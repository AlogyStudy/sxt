<html>
	<head>
		<title></title>
		<script src="CommonUtil.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			
			
			/*
			 * 
			 *  组合模式   
			 *  	应用的场景和特点:
			 *  场景:
			 * 		1,存在一批组织成某种层次体系的对象
			 *      2,希望对这批对象或其中的一部分对象实施一个操作
			 * 	应用特点：
			 * 		组合模式中只有两种类型对象，组合对象，叶子对象
			 * 		这两种类型都实现同一批接口
			 * 		一般会在组合对象中调用其方法并隐式调用"下级对象"的方法(这里一般采用递归的形式去操作);
			 * 		
			 * */
			
			//定义接口.
			var CompositeInterface=new Ryo.Interface('CompositeInterface',['addChild','getChild']);
			var LeafInterface=new Ryo.Interface('LeafInterface',['hardworking','sleeping']);
			
			
			var Composite=function( name ){
				this.name=name;	
				this.type='Composite';  //说明对象的类型，  为了以后的判断. 到底是组合对象   还是叶子对象.	
				this.childs=[]; //承装孩子的数组.
				
				
			}
			
			Composite.prototype={
				constructor: Composite,
				addChild: function( child ){
					
				},
				getChild: function( name ){
					
				},
				hardworking: function( name ){
					
				},
				sleeping: function( name ){
					
				}
			}
			
			var Leaf=function( name ){
				this.name=name;
				this.type='Leaf';
				
			}
			
			Leaf.prototype={
				constructor: Leaf,
				addChild: function( child ){
					throw new Error('this method is disabled...');					
				},
				getChild: function( name ){
					if( this.name == name ){
						return this;
					};
					return null;
				},
				hardworking: function( name ){
					document.write(this.name+'..working');
				},
				sleeping: function( name ){
					document.write(this.name+'...sleeping');
				}
			}
			
		</script>
	</head>
	<body>
		
	</body>
</html>