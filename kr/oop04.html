<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<script type="text/javascript">
			
			//Array each方法
			//ECMA5 forEach 循环遍历数组的每一项(只适合遍历一维数组)
			
//			var arr = [1,2,3,[5,6,[10]]];
//			
//			arr.forEach(function ( item,index,array ) {
//				
//				console.log( item );
//				
//			})
			
				
				var arr = [1,2,3,[5,6,7,8[110,23,[1000]]]];
				
				
				Array.prototype.each = function ( cb ) {
					
					try{
						
						//1， 目的： 遍历数组的每一个项    //计数器  记录当前遍历的元素位置
						this.i || (this.i = 0);
						//2，严谨的判断什么时候去走each核心代码
						//当数组的长度 大于 0 && 传递的参数 必须是为函数
						if ( this.length > 0 && cb.constructor === Function ) {
							
							//循环遍历数组的每一项
							//在写底层 代码的时候， 能不用for-in 循环， 就不使用 for-in循环.
							while ( this.i < this.length ) {
								
								//核心代码
								
								
								this.i++;
								
							}
							
							this.i = null;  //while循环过后， Array挂载的 i 是没有用处， 释放内存，垃圾回收机制  回收.
							
						}
						
					}catch(e){
						//do someting
						
					}
					
					return this;
					
				}
				
				arr.each(function ( item,index ) {
					
				});
			
			
			
		</script>
		
		
	</body>
</html>
